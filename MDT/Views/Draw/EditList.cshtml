@using MDT.Models.DTO
@model List<DrawDTO>
@{
    ViewBag.Title = "Edit Draws";
}
<style>
    th, td {
        border: 1px solid black;
        padding: 1em;
    }
    #editList {
        display: none;
    }
</style>

<div id="editList">
    <h2>Edit List</h2>
    <br />
    @if (Model.Count != 0)
    {
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Draw Type</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (DrawDTO draw in Model)
                {
                    <tr>
                        <td>@draw.DrawTypeName</td>
                        <td>@(draw.StartDateTime?.ToString("MM/dd/yyyy") ?? "Not Started")</td>
                        <td>@draw.EndDateTime.ToString("MM/dd/yyyy")</td>
                        @if (draw.StartDateTime == null)
                        {
                            <td>
                                @using (Html.BeginForm("EditDraw", "Draw", FormMethod.Post))
                                {
                                    @Html.Hidden("DrawId", draw.DrawId)
                                    <input type="submit" value="Edit Drawing" />
                                }
                            </td>
                        }
                        else
                        {
                            <td><i>Already Started</i></td>
                        }
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <div>
            <p class="text-danger">No draws have been created for this group.</p>
            <br />
            @Html.ActionLink("Add a Draw", "CreateDraw", "Draw", new { @class = "btn btn-info" })
            <br />
            @Html.ActionLink("Return to the Draw Home Page", "Index", "Draw", new { @class = "btn btn-info" })
        </div>
    }
</div>
